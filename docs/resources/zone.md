---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "keycard_zone Resource - keycard"
subcategory: ""
description: |-
  Manages a Keycard zone. Zones are isolated environments for organizing IAM resources within an organization.
---

# keycard_zone (Resource)

Manages a Keycard zone. Zones are isolated environments for organizing IAM resources within an organization.

## Example Usage

```terraform
# Basic zone configuration
resource "keycard_zone" "development" {
  name = "Development"
}

# Production zone with description
resource "keycard_zone" "production" {
  name        = "Production"
  description = "Production environment for customer-facing applications"
}

# Zone with custom OAuth2 configuration
resource "keycard_zone" "custom" {
  name        = "Custom OAuth2"
  description = "Zone with customized OAuth2 settings"

  oauth2 {
    pkce_required = false # Disable PKCE requirement
    dcr_enabled   = true  # Enable Dynamic Client Registration
  }
}

# Zone with customer-managed encryption key (AWS KMS)
# WARNING: The encryption_key attribute cannot be changed after zone creation.
# Adding, removing, or modifying the encryption_key will force replacement of
# the zone, which destroys and recreates it. Plan carefully before applying changes.
#
# Best practice: Specify the encryption_key at zone creation time to ensure
# all zone data is encrypted with your KMS key from the start.
resource "keycard_zone" "encrypted" {
  name        = "Encrypted Zone"
  description = "Zone with data encrypted using AWS KMS"

  encryption_key {
    aws {
      arn = "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"
    }
  }
}

# Using zone OAuth2 redirect URI with external OAuth providers
# The zone provides a redirect_uri that can be used when configuring OAuth apps
resource "okta_app_oauth" "example" {
  label         = "My Application"
  type          = "web"
  redirect_uris = [keycard_zone.production.oauth2.redirect_uri]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Human-readable name for the zone.

### Optional

- `description` (String) Optional description of the zone's purpose.
- `encryption_key` (Attributes) Customer managed encryption key for the zone. When not specified, uses the default Keycard Cloud encryption key. Changing this value will force replacement of the zone. (see [below for nested schema](#nestedatt--encryption_key))
- `oauth2` (Attributes) OAuth2 configuration for the zone. (see [below for nested schema](#nestedatt--oauth2))

### Read-Only

- `id` (String) Unique identifier of the zone.

<a id="nestedatt--encryption_key"></a>
### Nested Schema for `encryption_key`

Required:

- `aws` (Attributes) AWS KMS configuration for encryption. (see [below for nested schema](#nestedatt--encryption_key--aws))

<a id="nestedatt--encryption_key--aws"></a>
### Nested Schema for `encryption_key.aws`

Required:

- `arn` (String) ARN of the AWS KMS key to use for encryption.



<a id="nestedatt--oauth2"></a>
### Nested Schema for `oauth2`

Optional:

- `dcr_enabled` (Boolean) Whether Dynamic Client Registration (DCR) is enabled. Defaults to true.
- `pkce_required` (Boolean) Whether PKCE (Proof Key for Code Exchange) is required for authorization code flows. Defaults to true.

Read-Only:

- `issuer_uri` (String) OAuth 2.0 issuer URI for this zone.
- `redirect_uri` (String) OAuth 2.0 redirect URI for this zone.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
# Zones can be imported using the zone ID
import {
  to = keycard_zone.basic
  id = "zone-id-123"
}

resource "keycard_zone" "basic" {
  # Configuration will be populated after import
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Zones can be imported using the zone ID
terraform import keycard_zone.basic zone-id-123
```

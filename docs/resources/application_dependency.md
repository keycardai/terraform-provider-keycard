---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "keycard_application_dependency Resource - keycard"
subcategory: ""
description: |-
  Create a resource dependency for an application. This allows the application to generate delegated user grants for accessing the resource.
---

# keycard_application_dependency (Resource)

Create a resource dependency for an application. This allows the application to generate delegated user grants for accessing the resource.

## Example Usage

```terraform
# Google MCP Server with multiple resource dependencies
# MCP servers typically need access to multiple APIs

# First dependency: Google Calendar
resource "keycard_application_dependency" "google_mcp_calendar" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.google_mcp_server.id
  resource_id    = keycard_resource.google_calendar.id
}

# Second dependency: Google Drive
resource "keycard_application_dependency" "google_mcp_drive" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.google_mcp_server.id
  resource_id    = keycard_resource.google_drive.id
}

# A multi-tasking agent application which provides many resources
# Not all resources need all dependencies
#
# The application depends on a grant only for the calendar API when providing a
# personal assistant.
resource "keycard_application_dependency" "personal_assistant_calendar" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.multi_tasking_agent.id
  resource_id    = keycard_resource.google_calendar.id
  when_accessing = [
    keycard_resource.personal_assistant.id
  ]
}

# The application depends on a grant only for the drive API when providing an
# archivist.
resource "keycard_application_dependency" "personal_archivist_drive" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.multi_tasking_agent.id
  resource_id    = keycard_resource.google_drive.id
  when_accessing = [
    keycard_resource.personal_archivist.id
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application_id` (String) The application that needs access to the resource. Changing this will replace the dependency.
- `resource_id` (String) The resource that the application needs to access. Changing this will replace the dependency.
- `zone_id` (String) The zone this application dependency belongs to. Changing this will replace the dependency.

### Optional

- `when_accessing` (Set of String) Filter the dependency to be active only when accessing specific resources provided by the application. Changing this will replace the dependency.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
# Application dependencies can be imported using the format: zones/{zone-id}/applications/{application-id}/dependencies/{resource-id}
import {
  to = keycard_application_dependency.example
  id = "zones/zone-id-123/applications/application-id-456/dependencies/resource-id-789"
}

resource "keycard_application_dependency" "example" {
  # Configuration will be populated after import
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Application dependencies can be imported using the format: zones/{zone-id}/applications/{application-id}/dependencies/{resource-id}
terraform import keycard_application_dependency.example zones/zone-id-123/applications/application-id-456/dependencies/resource-id-789
```

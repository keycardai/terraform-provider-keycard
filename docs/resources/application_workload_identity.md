---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "keycard_application_workload_identity Resource - keycard"
subcategory: ""
description: |-
  Manages a workload identity credential for a Keycard application. This allows applications to authenticate using tokens from external identity providers (Kubernetes, GitHub Actions, AWS EKS, etc.) with optional subject claim validation.
---

# keycard_application_workload_identity (Resource)

Manages a workload identity credential for a Keycard application. This allows applications to authenticate using tokens from external identity providers (Kubernetes, GitHub Actions, AWS EKS, etc.) with optional subject claim validation.

## Example Usage

```terraform
# Workload identity for a backend service runnig in EKS with specific service account
resource "keycard_application_workload_identity" "backend_service" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.backend_service.id
  provider_id    = keycard_provider.eks.id
  subject        = "system:serviceaccount:production:backend-service-sa"
}

# Workload identity without subject constraint
# Accepts any authenticated token from the EKS cluster
resource "keycard_application_workload_identity" "internal_tools_any" {
  zone_id        = keycard_zone.production.id
  application_id = keycard_application.backend_service.id
  provider_id    = keycard_provider.eks.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application_id` (String) The application this credential belongs to. Changing this will replace the credential.
- `provider_id` (String) The provider that validates tokens for this credential. Changing this will replace the credential.
- `zone_id` (String) The zone this credential belongs to. Changing this will replace the credential.

### Optional

- `subject` (String) The subject claim (sub) that must match in the bearer token. When omitted, any token from the provider will be accepted. Format depends on the token issuer:
  - Kubernetes: `system:serviceaccount:<namespace>:<service-account-name>`
  - GitHub Actions: `repo:<org>/<repo>:ref:refs/heads/<branch>`
  - AWS EKS: `system:serviceaccount:<namespace>:<service-account-name>`

### Read-Only

- `id` (String) Unique identifier of the workload identity credential.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
# Application workload identities can be imported using the format: zones/{zone-id}/application-credentials/{credential-id}
import {
  to = keycard_application_workload_identity.example
  id = "zones/zone-id-123/application-credentials/credential-id-abc"
}

resource "keycard_application_workload_identity" "example" {
  # Configuration will be populated after import
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Application workload identities can be imported using the format: zones/{zone-id}/application-credentials/{credential-id}
terraform import keycard_application_workload_identity.example zones/zone-id-123/application-credentials/credential-id-abc
```
